"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[812],{13176:function(J,O,t){t.r(O);var j=t(58357),s=t.n(j),I=t(71977),m=t.n(I),A=t(30577),c=t.n(A),P=t(79660),T=t(94984),i=t(92161),f=t(86650),E=t(34803),R=t(19812),B=t(54676),y=t(14254),o=t(50959),L=t(37053),p=t(76380),U=t(50470),W=t(87074),K=t(78177),F=t(74637),Z=t.n(F),S=t(47462),n=t(11527),G=function(){var V=(0,o.useRef)(),w=(0,o.useState)(!1),x=c()(w,2),h=x[0],v=x[1],$=(0,o.useState)(!1),b=c()($,2),z=b[0],D=b[1],N=(0,o.useState)(3),g=c()(N,2),d=g[0],C=g[1],Y=[{title:"\u5DE5\u53F7",dataIndex:"id"},{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u5E74\u9F84",dataIndex:"age",sorter:function(a,e){return a.age-e.age},search:!1},{title:"\u6027\u522B",dataIndex:"gender",filters:[{text:"\u7537",value:"\u7537"},{text:"\u5973",value:"\u5973"}],onFilter:function(a,e){return e.gender===a},search:!1},{title:"\u90E8\u95E8",dataIndex:"department",valueType:"select",valueEnum:{\u7814\u53D1\u90E8:{text:"\u7814\u53D1\u90E8"},\u5E02\u573A\u90E8:{text:"\u5E02\u573A\u90E8"},\u9500\u552E\u90E8:{text:"\u9500\u552E\u90E8"},\u5BA2\u670D\u90E8:{text:"\u5BA2\u670D\u90E8"},\u8D22\u52A1\u90E8:{text:"\u8D22\u52A1\u90E8"},\u4EBA\u4E8B\u90E8:{text:"\u4EBA\u4E8B\u90E8"}}},{title:"\u804C\u4F4D",dataIndex:"position",search:!1},{title:"\u5165\u804C\u65E5\u671F",dataIndex:"entryDate",sorter:function(a,e){return new Date(a.entryDate)-new Date(e.entryDate)},search:!1},{title:"\u7535\u8BDD",dataIndex:"phone"},{title:"\u90AE\u7BB1",dataIndex:"email",search:!1},{title:"\u5DE5\u4F5C\u72B6\u6001",dataIndex:"status",filters:[{text:"\u5728\u804C",value:"\u5728\u804C"},{text:"\u79BB\u804C",value:"\u79BB\u804C"}],onFilter:function(a,e){return e.status===a},search:!1},{title:"\u5DE5\u8D44(\u5143/\u6708)",dataIndex:"salary",sorter:function(a,e){return a.salary-e.salary},render:function(a){return"\uFFE5".concat(a)},search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",search:!1,render:function(a,e,M,r){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.rU,{to:"/employee-manage/attendance/".concat(e.id),children:"\u8003\u52E4"}),(0,n.jsx)(L.Z,{title:"\u8BF7\u786E\u8BA4",description:e.status==="\u505C\u7528"?"\u786E\u8BA4\u8981\u542F\u7528\u8BE5\u5BA2\u6237\u5417\uFF1F":"\u786E\u8BA4\u8981\u7981\u7528\u8BE5\u5BA2\u6237\u5417\uFF1F",onConfirm:function(){v(!0)},okText:"Yes",cancelText:"No",children:(0,n.jsx)(p.ZP,{type:"link",children:e.status==="\u79BB\u804C"?"\u542F\u7528":"\u7981\u7528"})})]})}}];return(0,o.useEffect)(function(){if(h){var l=null;return d>0?l=setInterval(function(){C(function(a){return a-1})},1e3):d===0&&(v(!1),C(3)),function(){return clearInterval(l)}}},[h,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.ZP,{columns:Y,actionRef:V,request:function(){var l=m()(s()().mark(function a(e){var M,r;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,P.request)("/api/employees");case 2:return M=u.sent,r=M,e.id&&(r=r.filter(function(_){return _.id===e.id})),e.name&&(r=r.filter(function(_){return _.name.indexOf(e.name)!==-1})),e.phone&&(r=r.filter(function(_){return _.phone.indexOf(e.phone)!==-1})),e.department&&(r=r.filter(function(_){return _.department===e.department})),u.abrupt("return",{data:r,total:r.length});case 9:case"end":return u.stop()}},a)}));return function(a){return l.apply(this,arguments)}}(),toolBarRender:function(){return[(0,n.jsxs)(p.ZP,{type:"primary",onClick:function(){D(!0)},children:[(0,n.jsx)(K.Z,{})," ",(0,n.jsx)(P.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},onRow:function(a){return{style:{background:a.status!=="\u5728\u804C"?"#fafafa":"",color:a.status!=="\u5728\u804C"?"gray":""}}}}),(0,n.jsx)(U.Z,{title:"\u63D0\u793A",visible:h,closable:!1,footer:[(0,n.jsx)(p.ZP,{type:"primary",onClick:function(){return v(!1)},children:"\u786E\u8BA4(".concat(d,"s)")},"submit")],children:"\u6210\u529F\uFF01"}),(0,n.jsxs)(T.a,{title:"\u65B0\u5EFA\u5458\u5DE5",open:z,onOpenChange:D,autoFocusFirstInput:!0,drawerProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:m()(s()().mark(function l(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return W.ZP.success("\u63D0\u4EA4\u6210\u529F"),D(!1),e.abrupt("return",!0);case 3:case"end":return e.stop()}},l)})),children:[(0,n.jsxs)(i.A.Group,{children:[(0,n.jsx)(f.Z,{name:"name",width:"md",label:"\u59D3\u540D"}),(0,n.jsx)(f.Z,{rules:[{required:!0}],width:"md",name:"age",label:"\u5E74\u9F84"})]}),(0,n.jsxs)(i.A.Group,{children:[(0,n.jsx)(E.Z,{options:[{value:"male",label:"\u7537"},{value:"famale",label:"\u5973"}],width:"md",name:"gender",label:"\u6027\u522B"}),(0,n.jsx)(f.Z,{width:"md",name:"phone",label:"\u7535\u8BDD\u53F7\u7801"})]}),(0,n.jsxs)(i.A.Group,{children:[(0,n.jsx)(R.Z,{name:"date",label:"\u51FA\u751F\u65E5\u671F",transform:function(a){return{date:Z()(a).unix()}}}),(0,n.jsx)(E.Z,{width:"md",name:"job",label:"\u804C\u4E1A",options:[{value:"student",label:"\u5B66\u751F"},{value:"officeWorker",label:"\u4E0A\u73ED\u65CF"},{value:"freelancer",label:"\u81EA\u7531\u804C\u4E1A\u8005"},{value:"entrepreneur",label:"\u4F01\u4E1A\u5BB6"},{value:"retiree",label:"\u9000\u4F11\u4EBA\u58EB"}]})]}),(0,n.jsxs)(i.A.Group,{children:[(0,n.jsx)(E.Z,{width:"md",name:"education",label:"\u5B66\u5386",options:[{value:"junior",label:"\u521D\u4E2D\u53CA\u4EE5\u4E0B"},{value:"high",label:"\u9AD8\u4E2D"},{value:"juniorCollege",label:"\u5927\u4E13"},{value:"undergraduate",label:"\u672C\u79D1"},{value:"master",label:"\u7855\u58EB\u53CA\u4EE5\u4E0A"}]}),(0,n.jsx)(B.Z,{width:"md",request:m()(s()().mark(function l(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"zhejiang",label:"\u6D59\u6C5F\u7701",children:[{value:"hangzhou",label:"\u676D\u5DDE\u5E02",children:[{value:"yuhang",label:"\u4F59\u676D\u533A"},{value:"shangcheng",label:"\u4E0A\u57CE\u533A"}]},{value:"jinhua",label:"\u91D1\u534E",children:[{value:"wucheng",label:"\u5A7A\u57CE\u533A"}]}]},{value:"jiangsu",label:"\u6C5F\u82CF\u7701",children:[{value:"nanjing",label:"\u5357\u4EAC\u5E02",children:[{value:"jiangning",label:"\u6C5F\u5B81\u533A"},{value:"jianye",label:"\u5EFA\u90BA\u533A"}]},{value:"wuxi",label:"\u65E0\u9521\u5E02",children:[{value:"xishan",label:"\u9521\u5C71\u533A"},{value:"binhu",label:"\u6EE8\u6E56\u533A"}]}]}]);case 1:case"end":return e.stop()}},l)})),name:"areaList",label:"\u533A\u57DF"})]})]})]})};O.default=G}}]);
